webpackJsonp([61],{Xh4v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("t4zo"),s=a.n(n),l=a("uXZL"),o=a.n(l),r={data:function(){return{month:"",GetKPIsEsach:{pageNum:1,numPerPage:10,orderField:"",orderDirection:"",month:"",name:"",area:"",state:"-1"},DataStr:[],areaS:[],total:0,StateList:[{name:"ÂÖ®ÈÉ®",value:"-1"},{name:"Â∑≤ÂàùÊ†∏",value:"1"},{name:"Â∑≤Â§çÊ†∏",value:"2"}],Data:[]}},computed:{},watch:{},methods:{tableRowClassName:function(t){return 1==t.row.Status?"color568248533242":""},init:function(){var t=this;null==this.month?this.GetKPIsEsach.month="":this.GetKPIsEsach.month=this.month;var e={api:"get",url:this.$store.state.http+"PCenter/GetTravelAllowances",data:this.GetKPIsEsach};this.$https(e).then(function(e){console.log(e.Data),t.Data=e.Data.Dtos,t.total=e.Data.DataBars;for(var a=0;a<t.Data.length;a++){var n=t.Data[a];1==n.Status?n.StatusStr="Â∑≤ÂàùÊ†∏":n.StatusStr="Â∑≤Â§çÊ†∏"}})},initGetArea:function(){var t=this,e={url:this.$store.state.http+"System/GetArea",api:"get"};this.$https(e).then(function(e){t.areaS=e.Data})},handleCurrentChange:function(t){this.GetKPIsEsach.pageNum=t,this.init()},handleSizeChange:function(t){this.GetKPIsEsach.numPerPage=t,this.init(1)},initKPI:function(){this.$router.push({path:"AddTravelAllowance"})},look:function(t){this.$store.state.Vuex.Id=t.Id,this.$router.push({path:"PreserverLook"})},edit:function(t){this.$store.state.Vuex.Id=t.Id,this.$router.push({path:"Preserver"})},Excel:function(){var t=this;null==this.month?this.GetKPIsEsach.month="":this.GetKPIsEsach.month=this.month;var e=this.GetKPIsEsach;e.pageNum=1,e.numPerPage=999;var a={api:"get",url:this.$store.state.http+"PCenter/GetTravelAllowances",data:e};this.$https(a).then(function(e){console.log(e.Data),t.DataStr=e.Data.Dtos;for(var a=0;a<t.Data.length;a++){var n=t.Data[a];1==n.Status?n.StatusStr="Â∑≤ÂàùÊ†∏":n.StatusStr="Â∑≤Â§çÊ†∏"}var s=t;setTimeout(function(){s.exportExcel()},500)})},exportExcel:function(){var t=o.a.utils.table_to_book(document.getElementById("#out-table"),{raw:!0}),e=o.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{s.a.saveAs(new Blob([e],{type:"application/octet-stream"}),"index.xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,e)}return e}},created:function(){console.log("üòÄü§óü§óü§óü§óü§óü§óü§óü§ó"),this.init(),this.initGetArea()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.init}}),t._v(" "),a("div",{staticClass:"TopSerch"},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"ËØ∑ËæìÂÖ•ÂßìÂêç"},on:{change:function(e){return t.init(1)}},model:{value:t.GetKPIsEsach.name,callback:function(e){t.$set(t.GetKPIsEsach,"name",e)},expression:"GetKPIsEsach.name"}}),t._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM",size:"mini",type:"month",placeholder:"ÈÄâÊã©Êúà"},on:{change:function(e){return t.init(1)}},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"ËØ∑ÈÄâÊã©Áä∂ÊÄÅ"},on:{change:function(e){return t.init(1)}},model:{value:t.GetKPIsEsach.state,callback:function(e){t.$set(t.GetKPIsEsach,"state",e)},expression:"GetKPIsEsach.state"}},t._l(t.StateList,function(t){return a("el-option",{key:t.Value,attrs:{label:t.name,value:t.value}})}),1),t._v(" "),a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",clearable:"",placeholder:"ËØ∑ÈÄâÊã©Âå∫Âüü"},on:{change:function(e){return t.init(1)}},model:{value:t.GetKPIsEsach.area,callback:function(e){t.$set(t.GetKPIsEsach,"area",e)},expression:"GetKPIsEsach.area"}},t._l(t.areaS,function(t){return a("el-option",{key:t.Value,attrs:{label:t.Value,value:t.Value}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.init(1)}}},[t._v("Ê£ÄÁ¥¢")]),t._v(" "),a("el-button",{attrs:{type:"info",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(e){return t.Excel()}}},[t._v("ÂØºÂá∫Excel")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini"},on:{click:function(e){return t.initKPI()}}},[t._v("ÂàõÂª∫")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Data,size:"mini",height:this.$store.state.TableOptimumHeight,"row-class-name":t.tableRowClassName,"highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"Date",label:"Êúà‰ªΩ",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"Quyu",label:"Âå∫Âüü",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"EnginnerName",label:"Â∑•Á®ãÂ∏à",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"Days",label:"Â§©Êï∞"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FirstInspection",label:"ÂàùÂÆ°‰∫∫"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ToReview",label:"Â§çÊ†∏‰∫∫"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StatusStr",label:"Áä∂ÊÄÅ"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Êìç‰Ωú",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.Status?a("el-button",{attrs:{size:"mini",type:"info",icon:"el-icon-search"},on:{click:function(a){return t.look(e.row)}}}):t._e(),t._v(" "),1==e.row.Status?a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.edit(e.row)}}}):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"content",staticStyle:{display:"none"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.DataStr,size:"mini",id:"#out-table",height:this.$store.state.TableOptimumHeight,"row-class-name":t.tableRowClassName,"highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"Date",label:"Êúà‰ªΩ",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"Quyu",label:"Âå∫Âüü",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"EnginnerName",label:"Â∑•Á®ãÂ∏à",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"Days",label:"Â§©Êï∞"}}),t._v(" "),a("el-table-column",{attrs:{prop:"FirstInspection",label:"ÂàùÂÆ°‰∫∫"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ToReview",label:"Â§çÊ†∏‰∫∫"}}),t._v(" "),a("el-table-column",{attrs:{prop:"StatusStr",label:"Áä∂ÊÄÅ"}})],1)],1),t._v(" "),a("nav",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":this.$store.state.Vuex.pageSNumber,"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,i,!1,function(t){a("m0GR")},null,null);e.default=c.exports},m0GR:function(t,e){}});