webpackJsonp([27],{"6/rK":function(t,e){},H8Vc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{search:"",Data:[],pageNum:1,pagesize:10,total:0,productCode:"",barcodeMemo:"",man:"",desc:"",memo:"",options:[],dialogVisible:!1,radio:0,QHid:""}},created:function(){this.init(),this.Manufacturer()},methods:{UpdateProductType:function(){var t=this;if(0==this.radio)return this.$look("warning","提示！","请选择一种类型或取消修改！"),!1;var e={api:"post",url:this.$store.state.http+"Product/UpdateProductType",data:{Id:this.QHid,Type:this.radio}};this.$https(e).then(function(e){t.QHid="",t.dialogVisible=!1,t.radio=0,t.init()})},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},qihaun:function(t){console.log(t),this.QHid=t.ID,this.dialogVisible=!0,this.radio=0},Manufacturer:function(){var t=this,e={api:"get",url:this.$store.state.http+"Product/GetManufacturer"};this.$https(e).then(function(e){t.options=e.Data})},init:function(){var t=this,e={api:"get",url:this.$store.state.http+"Product/GetProducts2",data:{pageNum:this.pageNum,numPerPage:this.pagesize,orderField:"",orderDirection:"",proType:"1",productCode:this.productCode,barcodeMemo:this.barcodeMemo,man:this.man,desc:this.desc,memo:this.memo}};this.$https(e).then(function(e){console.log(e.Data),t.total=e.Data.DataBars,t.Data=e.Data.Dtos;for(var a=0;a<t.Data.length;a++)t.Data[a].UpdateDate=t.Data[a].UpdateDate.split("T")[0];console.log(t.Data)})},add:function(){this.$router.push({path:"/add_Homepage"})},adds:function(t){t.ManufacturerAddress=t.ManufacturerId,this.$store.state.HomepageData=t,this.$router.push({path:"/akk_Homepage"})},handleCurrentChange:function(t){this.pageNum=t,this.init()},handleSizeChange:function(t){this.pagesize=t,this.init()},look:function(t){this.$store.state.HomepageData=t,this.$router.push({path:"/look"})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("router-view",{on:{refresh:t.init}}),t._v(" "),a("div",{staticClass:"TopSerch"},[a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品编码"},on:{change:function(e){return t.init()}},model:{value:t.productCode,callback:function(e){t.productCode=e},expression:"productCode"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入内部编码"},on:{change:function(e){return t.init()}},model:{value:t.barcodeMemo,callback:function(e){t.barcodeMemo=e},expression:"barcodeMemo"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品描述"},on:{change:function(e){return t.init()}},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),a("el-input",{staticStyle:{width:"193px"},attrs:{size:"mini",placeholder:"请输入产品备注"},on:{change:function(e){return t.init()}},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}}),t._v(" "),a("el-select",{attrs:{clearable:"",size:"mini",placeholder:"请选择品牌"},on:{change:function(e){return t.init()}},model:{value:t.man,callback:function(e){t.man=e},expression:"man"}},t._l(t.options,function(t){return a("el-option",{key:t.ID,attrs:{label:t.Name,value:t.Name}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.init()}}},[t._v("检索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success",size:"mini"},on:{click:function(e){return t.add()}}},[t._v("添加")])],1),t._v(" "),a("div",{staticClass:"content",staticStyle:{padding:"0px 25px","box-sizing":"border"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Data,height:this.$store.state.TableOptimumHeight,size:"mini","highlight-current-row":"",border:"","header-cell-style":{background:"#e1e1e1"}}},[a("el-table-column",{attrs:{prop:"ProductCode",label:"产品编号",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{prop:"BarcodeMemo",label:"内部编码",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Manufacturer",label:"品牌",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Characteristics",label:"产品描述","show-overflow-tooltip":!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"Unit",label:"单位",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"UpdateDate",label:"更新时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.adds(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.look(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.qihaun(e.row)}}},[t._v("切换类型")])]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"切换类型",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("零配件")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("整机")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("耗材")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("通用")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.UpdateProductType()}}},[t._v("确 定")])],1)],1),t._v(" "),a("nav",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":this.$store.state.Vuex.pageSNumber,"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,o,!1,function(t){a("6/rK")},"data-v-b6489606",null);e.default=n.exports}});