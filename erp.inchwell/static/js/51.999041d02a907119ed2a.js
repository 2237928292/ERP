webpackJsonp([51],{"4xaO":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"",data:function(){return{ToolObjectId:"",ToolProId:"",Selectcontact:"",formLabelAlign:{Name:"",Email:"",Tel:"",LinkManId:"",Address:"",Default:"",Mobile:"",NameEn:"",SerialNumber:"",Model:"",ServiceDate:"",ServiceType:""},options:["保养","维修","安装","培训","VIP回访","钣喷回访","VIP与钣喷回访回访","回访","地基勘探","乘车","调休","年假","事假","其他"]}},created:function(){},components:{},methods:{querySearchs:function(e,t){if(""==this.ToolProId)return console.log("0000bj"),!1;var l={data:{cusId:this.ToolProId},api:"get",url:this.$store.state.http+"CRM/GetCusLinkManMini",header:this.$store.state.token};this.$https(l).then(function(e){console.log(e.Data.Dtos);if(0==e.Data.Dtos.length)return t([]),!1;for(var l=0;l<e.Data.Dtos.length;l++)e.Data.Dtos[l].value=e.Data.Dtos[l].Name;console.log(e.Data.Dtos),t(e.Data.Dtos)})},querySearch:function(e,t){if(console.log(e),void 0==e)return e="",!1;""==e&&(e="北京");var l={data:{search:e},api:"get",url:this.$store.state.http+"CRM/GetCustomerMini",header:this.$store.state.token};this.$https(l).then(function(e){console.log(e.Data.Dtos);if(0==e.Data.Dtos.length)return t([]),!1;for(var l=0;l<e.Data.Dtos.length;l++)e.Data.Dtos[l].value=e.Data.Dtos[l].FullName;console.log(e.Data.Dtos),t(e.Data.Dtos)})},handleSelects:function(e){console.log(e),this.formLabelAlign=e},handleSelect:function(e){null!=e.ImageUrl?this.StoreHttp=this.$store.state.Filehttp+"CusTool/"+e.ImageUrl:this.StoreHttp="",this.item=[],this.item[0]=e,this.ToolProId=e.CusId,console.log(this.ToolProId),this.Selectcontact="",this.formLabelAlign={Name:"",Email:"",Tel:"",LinkManId:"",Address:"",Default:"",Mobile:"",NameEn:""}},InitWord:function(){var e=this,t={CustomerId:this.ToolProId,ServiceDate:this.formLabelAlign.ServiceDate,ServiceType:this.formLabelAlign.ServiceType,LinkMan:this.Selectcontact,LinkTel:this.formLabelAlign.Mobile,LinkEmail:this.formLabelAlign.Email,SerialNumber:this.formLabelAlign.SerialNumber,Model:this.formLabelAlign.Model,Abscissa:0,Ordinate:0};if(console.log(t),""==this.ToolProId)return this.$look("warning","警告！","请选择客户！"),!1;if(""==this.Selectcontact)return this.$look("warning","警告！","请选择联系人！"),!1;if(""==this.formLabelAlign.Mobile)return this.$look("warning","警告！","请输入联系人手机号！"),!1;if(""==this.formLabelAlign.Email)return this.$look("warning","警告！","请输入联系人邮箱！"),!1;if(""==this.formLabelAlign.ServiceDate||void 0==this.formLabelAlign.ServiceDate)return this.$look("warning","警告！","请选择服务日期！"),!1;if(""==this.formLabelAlign.ServiceType||void 0==this.formLabelAlign.ServiceType)return this.$look("warning","警告！","请选择服务类型！"),!1;if("维修"==this.formLabelAlign.ServiceType){if(""==this.formLabelAlign.SerialNumber||void 0==this.formLabelAlign.SerialNumber)return this.$look("warning","警告！","请输入序列号！"),!1;if(""==this.formLabelAlign.Model||void 0==this.formLabelAlign.Model)return this.$look("warning","警告！","请输入型号！"),!1}var l={api:"post",url:this.$store.state.http+"PCenter/AddWorkDaily",data:t};this.$https(l).then(function(t){e.$emit("refresh"),e.$router.push({path:"Mywork"})})}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"box_s"},[l("div",{staticClass:"box_Width",staticStyle:{width:"800px"}},[l("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{size:"mini","show-overflow-tooltip":!0,"fetch-suggestions":e.querySearch,placeholder:"请选择客户",clearable:""},on:{select:e.handleSelect},model:{value:e.ToolObjectId,callback:function(t){e.ToolObjectId=t},expression:"ToolObjectId"}},[l("template",{slot:"prepend"},[e._v("客   户")])],2),e._v(" "),l("el-autocomplete",{staticClass:"inline-input MTop",attrs:{size:"mini","show-overflow-tooltip":!0,"fetch-suggestions":e.querySearchs,placeholder:"请选择联系人",clearable:""},on:{select:e.handleSelects},model:{value:e.Selectcontact,callback:function(t){e.Selectcontact=t},expression:"Selectcontact"}},[l("template",{slot:"prepend"},[e._v("联系人")])],2),e._v(" "),l("el-input",{staticClass:"Input_li",attrs:{placeholder:"请输入手机",prop:"Mobile",size:"mini"},model:{value:e.formLabelAlign.Mobile,callback:function(t){e.$set(e.formLabelAlign,"Mobile",t)},expression:"formLabelAlign.Mobile"}},[l("template",{slot:"prepend"},[e._v("手   机")])],2),e._v(" "),l("el-input",{staticClass:"Input_li",attrs:{placeholder:"请输入邮箱",size:"mini"},model:{value:e.formLabelAlign.Email,callback:function(t){e.$set(e.formLabelAlign,"Email",t)},expression:"formLabelAlign.Email"}},[l("template",{slot:"prepend"},[e._v("邮   箱")])],2),e._v(" "),l("div",{staticClass:"Input_li"},[l("span",{staticStyle:{fontsize:"12px"}},[e._v("选择服务日期：")]),e._v(" "),l("el-date-picker",{staticStyle:{width:"220px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.formLabelAlign.ServiceDate,callback:function(t){e.$set(e.formLabelAlign,"ServiceDate",t)},expression:"formLabelAlign.ServiceDate"}})],1),e._v(" "),l("div",{staticClass:"Input_li"},[l("span",{staticStyle:{fontsize:"12px"}},[e._v("选择服务类型：")]),e._v(" "),l("el-select",{staticStyle:{width:"220px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.formLabelAlign.ServiceType,callback:function(t){e.$set(e.formLabelAlign,"ServiceType",t)},expression:"formLabelAlign.ServiceType"}},e._l(e.options,function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),"维修"==e.formLabelAlign.ServiceType?l("el-input",{staticClass:"Input_li",attrs:{placeholder:"请输入序列号",prop:"Mobile",size:"mini"},model:{value:e.formLabelAlign.SerialNumber,callback:function(t){e.$set(e.formLabelAlign,"SerialNumber",t)},expression:"formLabelAlign.SerialNumber"}},[l("template",{slot:"prepend"},[e._v("序列号")])],2):e._e(),e._v(" "),"维修"==e.formLabelAlign.ServiceType?l("el-input",{staticClass:"Input_li",attrs:{placeholder:"请输入型号",prop:"Mobile",size:"mini"},model:{value:e.formLabelAlign.Model,callback:function(t){e.$set(e.formLabelAlign,"Model",t)},expression:"formLabelAlign.Model"}},[l("template",{slot:"prepend"},[e._v("型   号")])],2):e._e()],1),e._v(" "),l("el-button",{staticClass:"but",attrs:{type:"primary",loading:this.$store.state.Vuex.loading,size:"mini"},on:{click:function(t){return e.InitWord()}}},[e._v("创建日报")])],1)},staticRenderFns:[]};var a=l("VU/8")(i,o,!1,function(e){l("yz2q")},"data-v-64f3d92a",null);t.default=a.exports},yz2q:function(e,t){}});